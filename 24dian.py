
SCORE = 24

NOTHIS = -10000

def cal_24(a,b,c,d):

	def cal(num1,num2,fu):
		if fu == 1:
			return num1+num2
		elif fu == 2:
			return num1-num2
		elif fu == 3:
			return num1*num2
		elif fu == 4:
			if num2 != 0 and num1%num2 == 0:
				return num1/num2
		elif fu == 5:
			if num1 != 0 and num2%num1 == 0 and num1 != 1:
				return num2/num1
		return NOTHIS

	def printans(ans):
		def getfu(fu):
			if fu == 1:
				return '+'
			elif fu == 2:
				return '-'
			elif fu == 3:
				return '*'
			elif fu == 4:
				return '/'
			else:
				return']'
		n = ans[0]
		f = ans[1]
		# print(n,f)
		if len(f) == 3:
			a = []
			a = '%s' % n[0]
			a += getfu(f[0])
			a += '%s' % n[1]
			a += getfu(f[1])
			a += '%s' % n[2]
			a += getfu(f[2])
			a += '%s' % n[3]
			if f[0] == 1 or f[0] == 2:
				if f[1] == 3 or f[1] == 4 or f[1] == 5:
					a = '('+ a
					a = a[:4] + ')' + a[4:]

			if f[1] == 1 or f[1] == 2:
				if f[2] == 3 or f[2] == 4 or f[2] == 5:
					a = '('+ a
					a = a[:6] + ')' + a[6:]
			for i in a:
				if i == ']':
					l = a.find('(')
					r = a.find(')')
					a = a[r+2:]+'/'+a[l:r+1]
					break

		else:
			a = '('
			a += '%s' % n[0]
			a += getfu(f[0])
			a += '%s' % n[1]
			a += ')'
			a += getfu(ans[2])
			a += '('
			a += '%s' % n[2]
			a += getfu(f[1])
			a += '%s' % n[3]
			a += ')'
		print(a)

	def kill_same(ans):
		flist = []
		for i in ans:
			if not i in flist:
				flist.append(i)
		for i in flist:
			print(i)
			n = i[0]
			f = i[1]
		return flist

	ans = []
	nums = [[a, b, c, d], [a, b, d, c], [a, c, b, d], [a, c, d, b], [a, d, b, c], [a, d, c, b], [b, a, c, d], [b, a, d, c], [b, c, a, d], [b, c, d, a], [b, d, a, c], [b, d, c, a], [c, a, b, d], [c, a, d, b], [c, b, a, d], [c, b, d, a], [c, d, a, b], [c, d, b, a], [d, a, b, c], [d, a, c, b], [d, b, a, c], [d, b, c, a], [d, c, a, b], [d, c, b, a]]
	# fus = [[1, 1, 1], [1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 2, 1], [1, 2, 2], [1, 2, 3], [1, 2, 4], [1, 3, 1], [1, 3, 2], [1, 3, 3], [1, 3, 4], [1, 4, 1], [1, 4, 2], [1, 4, 3], [1, 4, 4], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 2, 1], [2, 2, 2], [2, 2, 3], [2, 2, 4], [2, 3, 1], [2, 3, 2], [2, 3, 3], [2, 3, 4], [2, 4, 1], [2, 4, 2], [2, 4, 3], [2, 4, 4], [3, 1, 1], [3, 1, 2], [3, 1, 3], [3, 1, 4], [3, 2, 1], [3, 2, 2], [3, 2, 3], [3, 2, 4], [3, 3, 1], [3, 3, 2], [3, 3, 3], [3, 3, 4], [3, 4, 1], [3, 4, 2], [3, 4, 3], [3, 4, 4], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 2, 1], [4, 2, 2], [4, 2, 3], [4, 2, 4], [4, 3, 1], [4, 3, 2], [4, 3, 3], [4, 3, 4], [4, 4, 1], [4, 4, 2], [4, 4, 3], [4, 4, 4]]
	fus = [[1, 1, 1], [1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 1, 5], [1, 2, 1], [1, 2, 2], [1, 2, 3], [1, 2, 4], [1, 2, 5], [1, 3, 1], [1, 3, 2], [1, 3, 3], [1, 3, 4], [1, 3, 5], [1, 4, 1], [1, 4, 2], [1, 4, 3], [1, 4, 4], [1, 4, 5], [1, 5, 1], [1, 5, 2], [1, 5, 3], [1, 5, 4], [1, 5, 5], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5], [2, 2, 1], [2, 2, 2], [2, 2, 3], [2, 2, 4], [2, 2, 5], [2, 3, 1], [2, 3, 2], [2, 3, 3], [2, 3, 4], [2, 3, 5], [2, 4, 1], [2, 4, 2], [2, 4, 3], [2, 4, 4], [2, 4, 5], [2, 5, 1], [2, 5, 2], [2, 5, 3], [2, 5, 4], [2, 5, 5], [3, 1, 1], [3, 1, 2], [3, 1, 3], [3, 1, 4], [3, 1, 5], [3, 2, 1], [3, 2, 2], [3, 2, 3], [3, 2, 4], [3, 2, 5], [3, 3, 1], [3, 3, 2], [3, 3, 3], [3, 3, 4], [3, 3, 5], [3, 4, 1], [3, 4, 2], [3, 4, 3], [3, 4, 4], [3, 4, 5], [3, 5, 1], [3, 5, 2], [3, 5, 3], [3, 5, 4], [3, 5, 5], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 2, 1], [4, 2, 2], [4, 2, 3], [4, 2, 4], [4, 2, 5], [4, 3, 1], [4, 3, 2], [4, 3, 3], [4, 3, 4], [4, 3, 5], [4, 4, 1], [4, 4, 2], [4, 4, 3], [4, 4, 4], [4, 4, 5], [4, 5, 1], [4, 5, 2], [4, 5, 3], [4, 5, 4], [4, 5, 5], [5, 1, 1], [5, 1, 2], [5, 1, 3], [5, 1, 4], [5, 1, 5], [5, 2, 1], [5, 2, 2], [5, 2, 3], [5, 2, 4], [5, 2, 5], [5, 3, 1], [5, 3, 2], [5, 3, 3], [5, 3, 4], [5, 3, 5], [5, 4, 1], [5, 4, 2], [5, 4, 3], [5, 4, 4], [5, 4, 5], [5, 5, 1], [5, 5, 2], [5, 5, 3], [5, 5, 4], [5, 5, 5]]
	for i in nums:
		for i1 in fus:
			a1 = cal(i[0],i[1],i1[0])
			if a1 == NOTHIS:
				continue
			a2 = cal(a1,i[2],i1[1])
			if a2 == NOTHIS:
				continue
			a3 = cal(a2,i[3],i1[2])
			if a3 == SCORE:
				ans.append([i,i1])
	
	fus1 = [[1, 1], [1, 2], [2, 1], [2, 2]]
	for i in nums:
		for ix in range(2):
			for i1 in fus1:
				a1 = cal(i[0],i[1],i1[0])
				if a1 == NOTHIS:
					continue
				a2 = cal(i[2],i[3],i1[1])
				if a2 == NOTHIS:
					continue
				a3 = cal(a1,a2,ix+2)
				if a3 == SCORE:
					ans.append([i,i1,ix+2])
	ans = kill_same(ans)

	for i in ans:
		printans(i)

	
if __name__ == '__main__':
	cal_24(1,6,43,2)
